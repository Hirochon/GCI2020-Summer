タイトル: 融資の与信額さ、え…それで大丈夫？？w

目的: - デフォルトのリスクを避ける
      - デフォルトされた際の損を減らす
      - デフォルトしていない時のデータから与信額を決めることにより、負担を減らす。
原理: 融資の与信額(AMT_CREDIT)をデフォルトしなかった方たちのデータでモデルを最適化する。
方法: 以下の手順でデータを分析してく。
    1. Competition2で用いた前処理を用いてデータをイジる。
        ※ AMT_CREDITを使った四則演算は必ず除くように。(leakとなりうる)
    2. train/testデータで以下の処理を行う
        1. TARGETが0であるデータと1であるデータで分割を行う。
        2. TARGETが0であるデータをシャッフル(seed値は43で。)して、indexで下から24825個を取り出す。
        3. 2にて取り出したデータと1であるデータを結合する。
    3. 目的変数をAMT_CREDITとし、説明変数から下記カラムを消去
        - SK_ID_CURR
        - TARGET
        - AMT_CREDIT
        - index
    4. trainデータで訓練する
        - モデルはお決まりLightGBM Single Model.
        - とりまKFold(n_split=3, seed=43)でCVやってる。
        - Optunaは今は使ってない。
    5. testデータで予測する。
    6. AMT_CREDITと予測した差分を算出する。
        - PRED_SABUN = AMT_CREDIT - PRED → +だと予測した値の方が実際より小さい。-だと予測した値が実際より大きい。
結果: TARGET=1においてPRED_SABUNで+値が多く見られ、値もPRED_SABUN_1 >>> PRED_SABUN_0となっている。
考察: 視点1: TARGET=1において、PRED_SABUNの合計値/総数が+の値を示すものが多くあると、無駄が少なくなる。
      視点2: TARGET=0において、PRED_SABUNの合計値/総数の誤差が少なければ少ないほど、本来の力が発揮されてよい。
      視点3: 金の単位は判らないけれど、8000万の利益を出すことができる。

融資について: [HomeCredit社ホームページから引用](https://www.homecredit.net/about-us/loans-tool.aspx)
    - 融資を行った総数: 236,101,233回
    - 一昨年の融資を行った回数: 41,608,720回
    - 去年の融資を行った回数: 37,701,886回
    - 現時点で今年に融資を行った回数: 13,086,220回
融資の回数について
    01,July,2020 ~ 10,July,2020:   511,790
    11,July,2020 ~ 20,July,2020:   517,712
    21,July,2020 ~ 31,July,2020:   502,841
    01,July,2020 ~ 30,July,2020: 1,532,343
融資金額について
    過去30万件の債務不履行による融資の損失合計
        13,846,851,949
        138億4685万1949
    1ヶ月における融資の損失予想
        69,234,259,747
        692億3425万9747
    →つまり月につき1%の改善が見込めると、83億の利益が見込める
    →0.5%に変更w
    →提案の流れを追加

AIモデルは何を学習して、何のアルゴリズムで、何を予測しているのか?
    本提案におけるAIの役割の説明
        - 学習→予測→結果が出た流れを記述
    本提案におけるAI技術について
        - LightGBMによる回帰
        - 勾配ブースティング決定木について

効果的な色使いについて…
    結局オレンジから緑に戻す。
    つかれたあああああああああああああああああああああ！

価格設定について
    1. 月に3億4600万の利益が出る
    2. 月に150万人の利用者がいる
    3. 34600 / 150 = 230
    4. 230 [万/万人]

友達にレビューしてもらって、気付いた改善点
    - [x] 総数の桁数を間違えている
    - [x] 過去30万件がどのデータなのかわからない(頂いたデータなのか？？)
    - [x] スライドのAIが目に入ってこなかった
    - [x] 融資データが何を指すのかわからない
    - [x] 図の下にタイトルが欲しい
    - [x] 重要度も書きたいかも
    - [x] 境界線が99%ラインだという説明がない
    - [x] 差分の話がちゃんと出てきていなくて、何で利益を示しているのかわからなくなっている
    - [x] 箱ひげ図かどうかも分からなかったらしい。
    - [x] 成功例のみを学習して、成功しなかった例を改善みたいな形を明示できていない

PDF作成時にまさかの事態
    - フォントが崩れる！？！？！

スライド作成について
    - 8/11: スライドの構成についてめっちゃぐぐった 
        - `伝わりそうなスライドの構成をググってみた.txt`をメッチャ書いた
    - 8/12: スライドの大枠を作成していく
        構成は以下の通り
        1. タイトル: AIを用いた融資与信額の改善案について
        2. 結論: 弊社AIモデルによって債務不履行による損失を低減できます
        3. 問題提起: HomeCridit社の現状
        4. 問題点の解決策: 問題の解決策
        5. 具体的なメリット: 融資額を見積もり直すと…
        6. 信頼を得るためにモデルの原理を説明: ちゃんと返してくれているケースを学習、AIを支える技術の説明
        7. 行動させる文句: 弊社AIモデルを使わんけ？？
    - 8/13: スライドの中身を作っていく
    - 8/14: 以下同文
    - 8/15: 完成したかも！？
        友達に見てもらう
    - 8/16: 完成！
        指摘されたことを修正しました
        提出！！